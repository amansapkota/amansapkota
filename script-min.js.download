var socket,editor_theme="vibrant_ink",editor_font_size=14,editor_invisible=!1,editor_gutter=!0,editor_tab_size=4,editor_type="null",editor_soft_wrap="true",terminal_mode="V",isMobile=!1,SERVER="https://www.tutorialspoint.com/cg",$win=null,userid=null,username=null,preview=!1,compile=!0,execute=!1,timer=0;"p5js"===langid||"vuejs"===langid?execute=!(compile=preview=!1):"html"===modename||"css"===modename?execute=compile=!(preview=!0):"javascript"!==modename&&"coffee"!==modename&&"typescript"!==modename&&"asciidoc"!==modename&&"rhtml"!==modename&&"markdown"!==modename&&"mathml"!==modename||(execute=!(compile=preview=!1));$.ajax({type:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},url:SERVER+"/set_auth_code.php",dataType:"json",success:function(e){if(0<e.userid){userid=e.userid;username=e.username;$("#save").css({display:"block"});$("#login").css({display:"none"});$("#logout").css({display:"block"});$("#searchproject").css({display:"block"});$("#logout .l-btn-text").html(username)}}});var link=$("head").find("link:first");window.onbeforeunload=function(){return"Leaving this page may cause loss of your code!"};window.beforeunload=function(){return"Leaving this page may cause loss of your code!"};var editor=ace.edit("editor");editor.setTheme("ace/theme/"+editor_theme);editor.getSession().setMode("ace/mode/"+modename);editor.getSession().on("change",function(){editor.resize(!0)});editor.setOptions({tabSize:"4",fontSize:"14px",showGutter:!0,highlightActiveLine:!0,wrap:!0,useWorker:!1,overwrite:!1,tooltipFollowsMouse:!1,dragEnabled:!1,showPrintMargin:!1,useSoftTabs:!0});editor.container.style.lineHeight="22px";var terminal=ace.edit("terminal");terminal.setTheme("ace/theme/"+editor_theme);terminal.getSession().setMode("ace/mode/text");terminal.getSession().on("change",function(){terminal.resize(!0)});terminal.setOptions({fontSize:"14px",showGutter:!1,highlightActiveLine:!1,behavioursEnabled:!1,wrapBehavioursEnabled:!1,wrap:!0,useWorker:!0,overwrite:!1,dragEnabled:!1,cursorStyle:"slim",showPrintMargin:!0,useSoftTabs:!0});terminal.setOption("showInvisibles",!1);terminal.renderer.setPadding(10);terminal.renderer.setScrollMargin(5);terminal.container.style.lineHeight="22px";terminal.getSession().on("change",()=>{terminal.renderer.scrollToLine(Number.POSITIVE_INFINITY)});editor.renderer.setScrollMargin(5);editor.focus();editor.navigateFileEnd();var result="",cmd="";$("#result").hide();$("#loading").css({visibility:"visible"});$(document).ready(function(){-1!=langid.indexOf("term")&&$("#cc").layout("remove","west");$("#cc").css({visibility:"visible"});terminal.commands.addCommand({name:"TerminalEnter",bindKey:{win:"Enter",mac:"Enter"},exec:function(){$("#execute").linkbutton("disable");if("clear"!==(cmd=terminal.getValue().slice(result.length)))return socket.emit("command",cmd),!1;terminal.setValue("",1);$("#execute").linkbutton("enable")}});editor.commands.on("afterExec",e=>{if(preview){var t=document.getElementById("result"),i=t.document;(i=t.contentWindow?t.contentWindow.document:i).open();i.write(editor.getValue());i.close()}});if(compile){var e="https://tpcg1.tutorialspoint.com";"python3"!==langid&&"python"!==langid&&"java"!=langid&&"java8"!=langid&&"scala"!=langid&&"kotlin"!=langid&&"jdbc"!=langid&&"pythondb"!=langid&&"rscript"!==langid&&"matplotlib"!==langid&&"octave"!==langid&&-1==langid.indexOf("term")||(e="https://tpcg2.tutorialspoint.com");socket=io.connect(e+"/?sessionId="+sessionId+"&lang="+langid,{transports:["websocket"]});var t=window.setInterval(function(){if(10<++timer){console.log("Going to disconnect socket ");terminal.setValue("Session timeout, please refresh the page",1);socket.disconnect();clearInterval(t)}},6e4);socket.on("connect_error",function(e){$("#execute").linkbutton("disable");$("#share").linkbutton("disable");terminal.setValue("Error while connecting with the server",1)});socket.on("connect",function(e){$("#execute").linkbutton("enable");$("#share").linkbutton("enable");terminal.setValue("",1);editor.focus();if("unixterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "')}else if("rterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","R")}else if("nodejsterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","node")}else if("rubyterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","irb")}else if("luaterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","lua")}else if("phpterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","php -a")}else if("python3term"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","python3")}else if("numpyterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","python3")}else if("scipyterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","python3")}else if("octaveterm"===langid){terminal.focus();socket.emit("command",'export "PS1=$ "');socket.emit("command","octave")}});socket.on("output",function(e){$("#execute").linkbutton("enable");if("rscript"===langid||"matplotlib"===langid||"octave"===langid){var t=$("#result");t.ready(function(){t.contents().find("body").append("<pre>"+e+"</pre>")});$("#loading").css({visibility:"hidden"})}else{0<cmd.length&&e.startsWith(cmd)&&(e=e.slice(cmd.length));timer=0;e=e.trimLeft();var i=terminal.getValue()+e;terminal.setValue(i,1);cmd="";result=terminal.getValue();isMobile&&-1==langid.indexOf("term")&&$("#codebox").tabs("select",1);$("#loading").css({visibility:"hidden"})}})}$("#execute").click(function(){$("#codebox").tabs("select",0);$("#loading").css({visibility:"visible"});terminal.setValue("",1);"rscript"!==langid&&"matplotlib"!==langid&&"octave"!==langid||(e=$("#result")).ready(function(){e.contents().find("body").html("")});if(isMobile&&-1==langid.indexOf("term")){$("#codebox").tabs("close",2);$("#share").show()}else if(-1==langid.indexOf("term")){$("#cc").layout("expand","east");$("#cc").layout("panel","center").panel("resize",{width:"45%"});$("#cc").layout("panel","west").panel("resize",{width:"45%"})}$("#cc").layout("resize");var e,t=editor.getValue();if(preview){(e=$("#result")).ready(function(){e.contents().find("body").html(editor.getValue())});$("#loading").css({visibility:"hidden"});isMobile&&-1==langid.indexOf("term")&&$("#codebox").tabs("select",1)}else if(execute){$("#loading").css({visibility:"hidden"});var i={code:t,lang:langid};$.ajax({type:"POST",cache:!1,data:i,crossDomain:!0,url:"https://tools.tutorialspoint.com/webview.php",success:function(e){$("#loading").css({visibility:"hidden"});var t=$("#result");t.ready(function(){t.contents().find("body").html(e)})},error:function(e,t,i){alert(e);alert(i)}});isMobile&&-1==langid.indexOf("term")&&$("#codebox").tabs("select",1)}else{socket.emit("code",{code:t,language:langid,sessionId:sessionId});isMobile||editor.focus()}});$("#beautify").bind("click",function(){beautifyCode()});editor.commands.addCommand({name:"EditorEnter",bindKey:{win:"ctrl+enter",mac:"command+enter"},exec:function(e){$("#loading").css({visibility:"visible"});$("#codebox").tabs("select",0);if(!isMobile){$("#cc").layout("expand","east");$("#cc").layout("panel","center").panel("resize",{width:"45%"});$("#cc").layout("panel","west").panel("resize",{width:"45%"});$("#cc").layout("resize")}e=e.getValue();socket.emit("code",{code:e,language:langid,sessionId:sessionId})}});editor.commands.addCommand({name:"ShareKey",bindKey:{win:"ctrl+G",mac:"command+G"},exec:function(e){$("#codebox").tabs("select",0);if(!isMobile){$("#cc").layout("expand","east");$("#cc").layout("panel","center").panel("resize",{width:"45%"});$("#cc").layout("panel","west").panel("resize",{width:"45%"});$("#cc").layout("resize")}generateShareLink()}});if(isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:isMobile){$("#logo").attr("src","/images/diamond_logo.png");$("#logo").css("width","50px");$("#logo").css("padding-right","5px");$("#help").css("padding","0px");$("#main-title").css("font-size","13px");$("#main-menu").css("width","145px");$("#edit-title").hide();$("#setting").hide();$("#edit").hide();$("#beautify").hide();$("#space2").hide();$(".icon-h-terminal").hide();$(".login-cover").css("width","100%");if(-1!=langid.indexOf("term")){$("#cc").layout("panel","east").panel("destroy");$("#cc").layout("panel","east").panel({collapsible:!1,noheader:!0,width:"1px"});$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("panel","center").panel("resize",{width:"100%"})}else{e=$("#codebox").tabs("getTab",1);$("#codebox").tabs("update",{tab:e,type:"all",options:{title:"Output",iconCls:""}});setTimeout(function(){$("#codebox").tabs("select",1);$("#codebox").tabs("select",0)},1e3);$("#help").html("");$("#accordion").appendTo("#help");$("#cc").layout("unsplit","west");$("#cc").layout("panel","east").panel("destroy");$("#cc").layout("panel","east").panel({collapsible:!1,noheader:!0,width:"1px"});$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("panel","center").panel({collapsible:!1,noheader:!0,width:"1px"});$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"})}$("#cc").layout("resize");$("#loading").css({visibility:"hidden"})}$("#undo").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;editor.getSession().getUndoManager().hasUndo()&&editor.getSession().getUndoManager().undo(!1)});$("#redo").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;editor.getSession().getUndoManager().hasRedo()&&editor.getSession().getUndoManager().redo(!1)});var i;$("#cut").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;var e=editor.getSelectionRange();if(editor.getSession().getTextRange(e)){i=editor.getSession().getTextRange(e);editor.getSession().remove(e)}});$("#delete").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;var e=editor.getSelectionRange();editor.getSession().getTextRange(e)&&editor.getSession().remove(e)});$("#copy").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;var e=editor.getSelectionRange();editor.getSession().getTextRange(e)&&(i=editor.getSession().getTextRange(e))});$("#paste").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;var e=editor.getCursorPosition();editor.getSession().insert(e,i)});$("#select").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;editor.getSelection().selectAll()});$("#find").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;editor.execCommand("find")});$("#findreplace").bind("click touchstart",function(){$("#codebox").tabs("getSelected").panel("options").id;editor.execCommand("replace")});$("#loading").css({visibility:"hidden"});$(window).bind("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"d":e.preventDefault();alert("ctrl-D");break;case"s":e.preventDefault();saveProject();break;case"g":e.preventDefault();generateShareLink();break;case"p":createProject();e.preventDefault();e.stopPropagation();break;case"f":e.preventDefault();alert("ctrl-F")}});if(preview||"rscript"===langid||"matplotlib"===langid||"octave"===langid){$("#terminal").hide();$("#result").show();$("#execute").linkbutton({text:"&nbsp;<b>Preview</b>"});$("#cc").layout("panel","center").panel("setTitle","Result");isMobile||$("#execute").click()}else if(execute){$("#terminal").hide();$("#result").show();$("#cc").layout("panel","center").panel("setTitle","Result");$("#execute").click()}});function clearTerminal(){terminal.setValue("",1);result=""}function getUniqueId(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=t.length,o=0;o<10;o++)e+=t.charAt(Math.floor(Math.random()*i));return e}function setEditorTheme(e){editor_theme=e;editor.setTheme("ace/theme/"+editor_theme);terminal.setTheme("ace/theme/"+editor_theme);localStorage.editor_theme=editor_theme}localStorage.editor_theme&&setEditorTheme(localStorage.editor_theme);function beautifyCode(){var t=editor.getValue(),e={code:t,langid:langid};$.ajax({url:"https://tools.tutorialspoint.com/format_code.php",method:"POST",data:e,dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){$("#loading").css({visibility:"hidden"});t=e.code;editor.setValue(t,0);editor.resize(!0);editor.clearSelection()},error:function(e){$("#loading").css({visibility:"hidden"});editor.setValue(t,0);editor.resize(!0);editor.clearSelection()}});return!0}function setEditorType(e){var t;"vim"===(editor_type=e)&&(t="ace/keyboard/vim");"emacs"===editor_type&&(t="ace/keyboard/emacs");"ace"===editor_type&&(t=null);editor.setKeyboardHandler(t);localStorage.editor_type=editor_type}localStorage.editor_type&&setEditorType(localStorage.editor_type);function setEditorFontSize(e){editor_font_size=parseInt(e);editor.setFontSize(editor_font_size);terminal.setFontSize(editor_font_size);localStorage.editor_font_size=editor_font_size;editor.resize(!0);terminal.resize(!0)}localStorage.editor_font_size&&setEditorFontSize(localStorage.editor_font_size);function setEditorTabSize(e){editor_tab_size=parseInt(e);editor.getSession().setTabSize(editor_tab_size);localStorage.editor_tab_size=editor_tab_size;e=editor.getValue();editor.setValue(e);editor.resize(!0);editor.clearSelection()}localStorage.editor_tab_size&&setEditorTabSize(localStorage.editor_tab_size);function setEditorInvisible(e){editor_invisible=e;editor.setShowInvisibles(e);localStorage.editor_invisible=editor_invisible}localStorage.editor_invisible&&setEditorInvisible(localStorage.editor_invisible);function setEditorGutter(e){editor_gutter=e;editor.renderer.setShowGutter(e);localStorage.editor_gutter=editor_gutter}localStorage.editor_gutter&&setEditorGutter(localStorage.editor_gutter);function openLogin(){isMobile&&$("#share").hide();var e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Login",id:"Login",closable:!0});e=$("#codebox").tabs("getTab","Login")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Login"}});e.panel("refresh",SERVER+"/login.php");$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}function openCaptcha(){isMobile&&$("#share").hide();var e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Permalink",id:"Permalink",closable:!0});e=$("#codebox").tabs("getTab","Permalink")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Permalink"}});e.panel("refresh",SERVER+"/captcha.php");$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}function userLogout(){$.ajax({type:"GET",url:SERVER+"/user_logout.php",data:{hello:"bye"},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(!e.status){e=$("#codebox").tabs("getTab",2);if(e){e=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("close",e)}$("#save").css({display:"none"});$("#login").css({display:"block"});$("#logout").css({display:"none"});$("#codebox").tabs("select",0);"V"==terminal_mode?$("#cc").layout("expand","east"):$("#cc").layout("expand","south");e=terminal.getValue()+"Logged Out Successfully\n";terminal.setValue(e,1);result=terminal.getValue();terminal.focus()}userid=0;$("#loading").css({visibility:"hidden"})}})}function userLogin(){var e=$("#emailid").textbox("getValue");if(!validateEmail(e)){$("#warning").text("Enter a valid email address");setTimeout(function(){$("#warning").text("")},4e3);return!1}var t=$("#password").textbox("getValue");if(t.length<6){$("#warning").text("Enter atleast 6 characters for your password");setTimeout(function(){$("#warning").text("")},4e3);return!1}$.ajax({type:"POST",url:SERVER+"/user_login.php",data:{emailid:e,password:t},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$("#warning").text(e.message);else{userid=e.userid;username=e.username;$("#save").css({display:"block"});$("#login").css({display:"none"});$("#logout").css({display:"block"});$("#searchproject").css({display:"block"});$("#logout .l-btn-text").html(username);getProjects()}setTimeout(function(){$("#warning").text("")},5e3);$("#loading").css({visibility:"hidden"})}})}function validateEmail(e){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e)}function getProjects(e){if(isMobile){var t="get_projects_mobile.php";$("#share").hide()}else t="get_projects.php";var i=$("#codebox").tabs("getTab",2);if(!i){i=$("#codebox").tabs("add",{title:"Login",id:"Login",closable:!0});i=$("#codebox").tabs("getTab","Login")}var o=$("#codebox").tabs("getTabIndex",i);$("#codebox").tabs("select",o);$("#codebox").tabs("update",{tab:i,options:{title:"Projects",href:SERVER+"/"+t+"?keyword="+e}});i.panel("refresh",SERVER+"/"+t+"?keyword="+e);$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}function openChangePassword(){isMobile&&$("#share").hide();$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(0<userid){var e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Login",id:"Login",closable:!0});e=$("#codebox").tabs("getTab","Login")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Change Password",href:SERVER+"/change-my-password.php"}});e.panel("refresh",SERVER+"/change-my-password.php");if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}else openLogin()}function updateProfile(){isMobile&&$("#share").hide();$("#profile").form("submit",{url:SERVER+"/update_profile.php",onLoadError:function(){console.log("Error in updating profile")},onSubmit:function(){$("#loading").css({visibility:"visible"})},error:function(e,t,i){console.log("Error in updating profile");$.messager.alert("Error",i,"info");$("#loading").css({visibility:"hidden"});return!1},success:function(e){console.log(e);$("#loading").css({visibility:"hidden"});e.status?$.messager.alert("Error",e.message,"info"):userProfile()}})}function openSignup(){isMobile&&$("#share").hide();var e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Sign Up",id:"Sign Up",closable:!0});e=$("#codebox").tabs("getTab","Sign Up")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Sign Up",href:SERVER+"/signup.php"}});e.panel("refresh",SERVER+"/signup.php");$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}function signupUser(){if((username=$("#username").textbox("getValue")).length<4){$("#warning").text("Please enter your full name");setTimeout(function(){$("#warning").text("")},4e3);return!1}if(!validateEmail(emailid=$("#emailid").textbox("getValue"))){$("#warning").text("Please enter a valid email address");setTimeout(function(){$("#warning").text("")},4e3);return!1}var e=$("#captcha_value").textbox("getValue");if(e.length<6){$("#warning").text("Please enter correct captcha from the image");setTimeout(function(){$("#warning").text("")},4e3);return!1}e={username:username,emailid:emailid,captcha:e};$.ajax({type:"POST",url:SERVER+"/user_signup.php",data:e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$("#warning").text(e.message);else{var t=$("#codebox").tabs("getSelected");$("#codebox").tabs("update",{tab:t,options:{title:"Activate Account"}});t.panel("refresh",SERVER+"/activate_account.php?emailid="+e.message);$("#loading").css({visibility:"hidden"})}setTimeout(function(){$("#warning").text("")},8e3);$("#loading").css({visibility:"hidden"})}})}function activateAccount(){var e=$("#emailid").textbox("getValue");if(!validateEmail(e)){$("#warning").text("Please enter a valid email address");setTimeout(function(){$("#warning").text("")},4e3);return!1}var t=$("#token").textbox("getValue");if(t.length<6){$("#warning").text("Given secret token is not valid");setTimeout(function(){$("#warning").text("")},4e3);return!1}var i=$("#password1").textbox("getValue");if(i.length<4){$("#warning").text("Enter atleast 4 characters for your password");setTimeout(function(){$("#warning").text("")},4e3);return!1}if(i!=$("#password2").textbox("getValue")){$("#warning").text("Given two passwords do not match");setTimeout(function(){$("#warning").text("")},4e3);return!1}$.ajax({type:"POST",url:SERVER+"/activate_user_account.php",data:{emailid:e,token:t,password:i},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status){$("#warning").text(e.message);setTimeout(function(){$("#warning").text("")},4e3)}else{userid=e.userid;username=e.username;$("#login").css({display:"none"});$("#logout").css({display:"block"});$("#searchproject").css({display:"block"});$("#logout .l-btn-text").html(username);getProjects()}$("#loading").css({visibility:"hidden"})}})}function openForgotPassword(){isMobile&&$("#share").hide();var e=$("#codebox").tabs("getSelected");$("#loading").css({visibility:"visible"});$("#codebox").tabs("update",{tab:e,options:{title:"Forgot Password",href:SERVER+"/forgot_password.php"}});e.panel("refresh",SERVER+"/forgot_password.php");$("#loading").css({visibility:"hidden"});$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}function openSearchProject(){isMobile&&$("#share").hide();($win=$("#sign").window({title:"Search Project",iconCls:"fal fa-magnifying-glass fa-sm",width:"580",height:"350"})).window("open");$("#sign").window("refresh",SERVER+"/search_project.php");if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}function closeSign(){$("#sign").window("close");$win=null}function changeMyPassword(){var e=$("#oldpassword").textbox("getValue");if(e.length<6){$("#warning").text("Enter atleast 6 characters for your password");setTimeout(function(){$("#warning").text("")},4e3);return!1}var t=$("#password1").textbox("getValue");if(t.length<6){$("#warning").text("Enter atleast 6 characters for your password");setTimeout(function(){$("#warning").text("")},4e3);return!1}if(t!=$("#password2").textbox("getValue")){$("#warning").text("Given two passwords do not match");setTimeout(function(){$("#warning").text("")},4e3);return!1}$.ajax({type:"POST",url:SERVER+"/change_my_password.php",data:{password:e,newpassword:t},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){$("#warning").text(e.message);setTimeout(function(){$("#warning").text("")},5e3);$("#loading").css({visibility:"hidden"})}})}function userProfile(){isMobile&&$("#share").hide();$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});if(0<userid){var e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Login",id:"Login",closable:!0});e=$("#codebox").tabs("getTab","Login")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Profile",href:SERVER+"/user_profile.php"}});e.panel("refresh",SERVER+"/user_profile.php");if(isMobile){$("#cc").layout("panel","south").panel({collapsible:!1,noheader:!0,height:"1px"});$("#cc").layout("resize");$("#cc").layout("expand","south")}}else openLogin()}function changePassword(){var e=$("#code").textbox("getValue");if(e.length<6){$("#warning").text("Please enter a correct secret code");setTimeout(function(){$("#warning").text("")},4e3);return!1}var t=$("#emailid").textbox("getValue");if(!validateEmail(t)){$("#warning").text("Enter a valid email address");setTimeout(function(){$("#warning").text("")},4e3);return!1}var i=$("#password1").textbox("getValue");if(i.length<6){$("#warning").text("Enter atleast 6 characters for your password");setTimeout(function(){$("#warning").text("")},4e3);return!1}if(i!=$("#password2").textbox("getValue")){$("#warning").text("Given two passwords do not match");setTimeout(function(){$("#warning").text("")},4e3);return!1}var o=$("#captcha_value").textbox("getValue");if(o.length<6){$("#warning").text("Please enter given number from the image");setTimeout(function(){$("#warning").text("")},4e3);return!1}$.ajax({type:"POST",url:SERVER+"/change_user_password.php",data:{code:e,emailid:t,password:i,captcha:o},crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){$("#warning").text(e.message);setTimeout(function(){$("#warning").text("")},4e3);$("#loading").css({visibility:"hidden"})}})}function saveProject(){console.log("Going save the project...");if(userid<=0)return openLogin(),!0;var e=editor.getValue();if(0<e.length){e={langid:langid,projectid:projectid,content:e,projecttitle:projecttitle};console.log(e);$.ajax({type:"POST",data:e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",url:SERVER+"/save_project.php",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$.messager.alert("Error",e.message,"info");else{projectid=e.projectid;e=terminal.getValue()+"Project saved successfully.\n";terminal.setValue(e,1);result=terminal.getValue();terminal.focus()}$("#loading").css({visibility:"hidden"})}})}}function saveAsNewProject(){console.log("Going to save the project as new one...");if(userid<=0)return openLogin(),!0;var e=editor.getValue();if(0<e.length){e={langid:langid,content:e,projecttitle:projecttitle};console.log(e);$.ajax({type:"POST",data:e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",url:SERVER+"/save_as_new_project.php",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$.messager.alert("Error",e.message,"info");else{projectid=e.projectid;e=terminal.getValue()+"Project saved as new successfully.\n";terminal.setValue(e,1);result=terminal.getValue();terminal.focus()}$("#loading").css({visibility:"hidden"})}})}}function setProjectTitle(){if(userid<=0)return openLogin(),!0;$.messager.prompt("New project title","Enter new project title:",function(e){if(e){if(0==/^[a-zA-Z0-9_ ()-.+?]*$/.test(e))return $.messager.alert("Alert Message","Project title should be plain text","info"),!1;if(255<e.length)return $.messager.alert("Alert Message","Project title should be less than 255 characters","info"),!1;projecttitle=$.trim(e);e=editor.getValue();if(0<e.length){e={langid:langid,projectid:projectid,content:e,projecttitle:projecttitle};console.log(e);$.ajax({type:"POST",data:e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",url:SERVER+"/save_project.php",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$.messager.alert("Error",e.message,"info");else{e={projectid:projectid=e.projectid,projecttitle:projecttitle};$.ajax({type:"POST",url:SERVER+"/set_project_title.php",crossDomain:!0,xhrFields:{withCredentials:!0},data:e,dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$.messager.alert("Error Message",e.message,"error");else{$("h1.title").text(projecttitle+" ("+version+")");e=terminal.getValue()+"Project title changed and saved successfully.\n";terminal.setValue(e,1);result=terminal.getValue();terminal.focus()}$("#loading").css({visibility:"hidden"})}})}$("#loading").css({visibility:"hidden"})}})}}}).window({width:450}).find(".messager-input").attr("value"," "+projecttitle)}function generatePublicLink(){$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});var e=editor.getValue(),t=$("#captcha_value").textbox("getValue");if(t.length<6){$("#warning").text("Please enter correct captcha from the image");setTimeout(function(){$("#warning").text("")},4e3);return!1}if(0<e.length){e={langid:langid,projectid:projectid,content:e,projecttitle:projecttitle,captcha:t};$.ajax({type:"POST",data:e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",url:SERVER+"/save_public_project.php",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status){$("#warning").text(e.message);setTimeout(function(){$("#warning").text("")},4e3)}else{projectid=e.projectid;e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Permalink",id:"Permalink",closable:!0});e=$("#codebox").tabs("getTab","Permalink")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Permalink"}});e.panel("refresh",SERVER+"/show_permalink.php?permalink="+projectid)}$("#loading").css({visibility:"hidden"})}})}}function generateShareLink(){if(userid<=0)return openCaptcha(),!0;$("#cc").layout("collapse","east");$("#cc").layout("panel","center").panel("resize",{width:"0%"});$("#cc").layout("panel","west").panel("resize",{width:"100%"});var e=editor.getValue();if(0<e.length){e={langid:langid,projectid:projectid,content:e,projecttitle:projecttitle};$.ajax({type:"POST",data:e,crossDomain:!0,xhrFields:{withCredentials:!0},dataType:"json",url:SERVER+"/save_project.php",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){if(e.status)$.messager.alert("Error",e.message,"info");else{projectid=e.projectid;e=$("#codebox").tabs("getTab",2);if(!e){e=$("#codebox").tabs("add",{title:"Permalink",id:"Permalink",closable:!0});e=$("#codebox").tabs("getTab","Permalink")}var t=$("#codebox").tabs("getTabIndex",e);$("#codebox").tabs("select",t);$("#codebox").tabs("update",{tab:e,options:{title:"Permalink",href:SERVER+"/show_permalink.php?permalink="+projectid}});e.panel("refresh",SERVER+"/show_permalink.php?permalink="+projectid)}$("#loading").css({visibility:"hidden"})}})}}function createProject(){var e={langid:langid};$.ajax({type:"POST",url:SERVER+"/reset_project.php",crossDomain:!0,xhrFields:{withCredentials:!0},data:e,dataType:"json",beforeSend:function(){$("#loading").css({visibility:"visible"})},success:function(e){window.location="https://www.tutorialspoint.com/codingground.htm";$("#loading").css({visibility:"hidden"})}})}(/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent)?$("#winhelp"):$("#machelp")).hide();

